<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>2025 CCPC 网络赛 - TosakaUCW</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="TosakaUCW"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="TosakaUCW"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="第十一届中国大学生程序设计竞赛网络预选赛（CCPC Online 2025）Date 2025&amp;#x2F;09&amp;#x2F;20Solved(Upsolved) 9&amp;#x2F;13    A B C D E F G H I J K L M    O Ø Ø Ø O Ø O Ø   O"><meta property="og:type" content="blog"><meta property="og:title" content="2025 CCPC 网络赛"><meta property="og:url" content="https://tosakaucw.github.io/2025-ccpc-%E7%BD%91%E7%BB%9C%E8%B5%9B/"><meta property="og:site_name" content="TosakaUCW"><meta property="og:description" content="第十一届中国大学生程序设计竞赛网络预选赛（CCPC Online 2025）Date 2025&amp;#x2F;09&amp;#x2F;20Solved(Upsolved) 9&amp;#x2F;13    A B C D E F G H I J K L M    O Ø Ø Ø O Ø O Ø   O"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://tosakaucw.github.io/img/og_image.png"><meta property="article:published_time" content="2025-09-22T08:33:28.000Z"><meta property="article:modified_time" content="2025-09-28T07:25:09.182Z"><meta property="article:author" content="TosakaUCW"><meta property="article:tag" content="XCPC"><meta property="article:tag" content="Onsite"><meta property="article:tag" content="网络赛"><meta property="article:tag" content="CCPC 2025"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://tosakaucw.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://tosakaucw.github.io/2025-ccpc-%E7%BD%91%E7%BB%9C%E8%B5%9B/"},"headline":"2025 CCPC 网络赛","image":["https://tosakaucw.github.io/img/og_image.png"],"datePublished":"2025-09-22T08:33:28.000Z","dateModified":"2025-09-28T07:25:09.182Z","author":{"@type":"Person","name":"TosakaUCW"},"publisher":{"@type":"Organization","name":"TosakaUCW","logo":{"@type":"ImageObject","url":"https://tosakaucw.github.io/img/logo.svg"}},"description":"第十一届中国大学生程序设计竞赛网络预选赛（CCPC Online 2025）Date 2025&#x2F;09&#x2F;20Solved(Upsolved) 9&#x2F;13    A B C D E F G H I J K L M    O Ø Ø Ø O Ø O Ø   O"}</script><link rel="canonical" href="https://tosakaucw.github.io/2025-ccpc-%E7%BD%91%E7%BB%9C%E8%B5%9B/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link data-pjax rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Code&amp;family=Microsoft+Yahei:wght@400;700"><link data-pjax rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.2.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="TosakaUCW" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a><a class="navbar-item" href="/links">Links</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/TosakaUCW"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><i class="far fa-calendar-alt"> </i><time dateTime="2025-09-22T08:33:28.000Z" title="2025-09-22T08:33:28.000Z">2025-09-22</time></span><span class="level-item is-hidden-mobile"><i class="far fa-calendar-check"> </i><time dateTime="2025-09-28T07:25:09.182Z" title="2025-09-28T07:25:09.182Z">2025-09-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Contest-Notes/">Contest Notes</a></span></div></div><h1 class="title is-3 is-size-4-mobile">2025 CCPC 网络赛</h1><div class="content"><p><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2534">第十一届中国大学生程序设计竞赛网络预选赛（CCPC Online 2025）</a><br>Date 2025&#x2F;09&#x2F;20<br><a target="_blank" rel="noopener" href="https://pintia.cn/rankings/1967841176776331264">Solved(Upsolved) 9&#x2F;13</a></p>
<table>
<thead>
<tr>
<th align="center">A</th>
<th align="center">B</th>
<th align="center">C</th>
<th align="center">D</th>
<th align="center">E</th>
<th align="center">F</th>
<th align="center">G</th>
<th align="center">H</th>
<th align="center">I</th>
<th align="center">J</th>
<th align="center">K</th>
<th align="center">L</th>
<th align="center">M</th>
</tr>
</thead>
<tbody><tr>
<td align="center">O</td>
<td align="center">Ø</td>
<td align="center">Ø</td>
<td align="center">Ø</td>
<td align="center">O</td>
<td align="center">Ø</td>
<td align="center">O</td>
<td align="center">Ø</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">O</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<span id="more"></span>

<h2 id="B-魔塔"><a href="#B-魔塔" class="headerlink" title="B - 魔塔"></a>B - 魔塔</h2><p>对怪物 $i$，它会被攻击 $\lceil h_i&#x2F;(X-d_i)\rceil$ 次，因此会反击<br>$$<br>v_i &#x3D; \left\lfloor \frac{h_i-1}{X-d_i}\right\rfloor<br>$$<br>次。</p>
<p>设 $Y$ 为遇到怪物时的防御力，怪物对勇士生命的净变化为</p>
<p>$$<br>\Delta_i &#x3D; v_i\cdot (Y - a_i)<br>$$</p>
<p>目标是从根出发遍历所有点，最大化</p>
<p>$$<br>\sum_{i&#x3D;2}^{n} \Delta_i<br>$$</p>
<p>$$<br>\sum_{i&#x3D;2}^{n} \Delta_i<br>&#x3D; \sum_{\text{怪}} v_i Y - \sum_{\text{怪}} v_i a_i<br>$$</p>
<p>后一项和顺序无关，因此就是最大化 $\sum_{\text{怪}} v_i Y$ </p>
<p>问题转化为：有两种物品 怪物和蓝宝石，遇到蓝宝石让 $Y \leftarrow Y + 1$，遇到怪物产生 $v_i Y$ 的贡献，安排顺序最大化贡献。</p>
<p>贪心让蓝宝石在前面，怪物在后面，且 $v_i$ 越大越后面</p>
<p>具体来说，放在 dfs 上面，$u$ 可以安排子树的合并顺序。</p>
<p>首先可以启发式合并，然后维护一个单调队列来维护合并</p>
<p>在维护 $u$ 的合并的时候，如果 $v_i &lt; v_u$ 的话，都是可以确定在 $u$ 之前合并的，其他的可以放着等后面的来确定</p>
<p>因为用了 <code>multiset::merge</code> 复杂度只有一只 log</p>
<p>时间复杂度 $O(n \log n)$</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Frac</span> &#123;</span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line">    <span class="type">int</span> den;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> Frac &amp;a, <span class="type">const</span> Frac &amp;b) &#123;</span><br><span class="line">    <span class="keyword">return</span> a.num * b.den &lt; b.num * a.den;</span><br><span class="line">&#125;</span><br><span class="line">Frac &amp;<span class="keyword">operator</span>+=(Frac &amp;a, <span class="type">const</span> Frac &amp;b) &#123;</span><br><span class="line">    a.num += b.num;</span><br><span class="line">    a.den += b.den;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">read</span>(), X = <span class="built_in">read</span>();</span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">g</span>(n + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u = <span class="built_in">read</span>(), v = <span class="built_in">read</span>();</span><br><span class="line">        g[u].<span class="built_in">eb</span>(v), g[v].<span class="built_in">eb</span>(u);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">    vector&lt;multiset&lt;Frac&gt;&gt; <span class="built_in">s</span>(n + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="built_in">read</span>();</span><br><span class="line">        <span class="keyword">if</span> (t == <span class="number">1</span>) &#123;</span><br><span class="line">            v[i] = <span class="number">-1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> a = <span class="built_in">read</span>(), d = <span class="built_in">read</span>(), h = <span class="built_in">read</span>();</span><br><span class="line">            v[i] = (h - <span class="number">1</span>) / (X - d);</span><br><span class="line">            ans -= v[i] * a;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> tot = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> dfs = [&amp;](<span class="keyword">this</span> <span class="keyword">auto</span>&amp;&amp; dfs, <span class="type">int</span> u, <span class="type">int</span> fa) -&gt; <span class="type">void</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> v : g[u]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (v == fa) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">dfs</span>(v, u);</span><br><span class="line">            <span class="keyword">if</span> (s[u].<span class="built_in">size</span>() &lt; s[v].<span class="built_in">size</span>()) &#123;</span><br><span class="line">                <span class="built_in">swap</span>(s[u], s[v]);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            s[u].<span class="built_in">merge</span>(s[v]);</span><br><span class="line">            s[v].<span class="built_in">clear</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (v[u] == <span class="number">-1</span>) &#123;</span><br><span class="line">            s[u].<span class="built_in">ep</span>(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[u].<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            tot += v[u];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Frac f &#123;v[u], <span class="number">0</span>&#125;;</span><br><span class="line">            <span class="keyword">do</span> &#123;</span><br><span class="line">                <span class="keyword">auto</span> g = s[u].<span class="built_in">extract</span>(s[u].<span class="built_in">begin</span>()).<span class="built_in">value</span>();</span><br><span class="line"></span><br><span class="line">                ans += f.den * g.num;</span><br><span class="line">                f += g;</span><br><span class="line">            &#125; <span class="keyword">while</span> (!s[u].<span class="built_in">empty</span>() <span class="keyword">and</span> *s[u].<span class="built_in">begin</span>() &lt; f);</span><br><span class="line">            s[u].<span class="built_in">ep</span>(f);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> now = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> [num, den] : s[<span class="number">1</span>]) &#123;</span><br><span class="line">        ans += now * num;</span><br><span class="line">        now += den;</span><br><span class="line">    &#125;</span><br><span class="line">    ans += tot * now;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="H-教师"><a href="#H-教师" class="headerlink" title="H - 教师"></a>H - 教师</h2><p>类似 SOSdp 的思想，直接钦定某个老师给某个课程，状态就是每个课程有没有被钦定</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">read</span>(), m = <span class="built_in">read</span>();</span><br><span class="line">    <span class="type">int</span> k = <span class="built_in">read</span>(), T = <span class="built_in">read</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function">vector <span class="title">v</span><span class="params">(n, vector(k + <span class="number">1</span>, <span class="number">0ll</span>))</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= k; j++) &#123;</span><br><span class="line">            v[i][j] = <span class="built_in">read</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">vector <span class="title">t</span><span class="params">(m, <span class="number">0ll</span>)</span></span>;</span><br><span class="line">    <span class="function">vector <span class="title">val</span><span class="params">(m, vector(n, <span class="number">0ll</span>))</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="type">int</span> k = <span class="built_in">read</span>();</span><br><span class="line">        t[i] = <span class="built_in">read</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; k; j++) &#123;</span><br><span class="line">            <span class="type">int</span> x = <span class="built_in">read</span>() - <span class="number">1</span>, y = <span class="built_in">read</span>();</span><br><span class="line">            val[i][x] = y;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> maxS = <span class="number">1</span> &lt;&lt; n;</span><br><span class="line">    <span class="function">vector <span class="title">dp</span><span class="params">(T + <span class="number">1</span>, vector(maxS, -inf))</span></span>;</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function">vector <span class="title">ans</span><span class="params">(T + <span class="number">1</span>, <span class="number">0ll</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> p = <span class="number">0</span>; p + t[i] &lt;= T; p++) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">auto</span> ndp = dp[p];</span><br><span class="line">            <span class="type">int</span> np = p + t[i];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> s = <span class="number">0</span>; s &lt; maxS; s++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> ((s &gt;&gt; j) &amp; <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="type">int</span> ns = s | (<span class="number">1</span> &lt;&lt; j);</span><br><span class="line">                    ndp[ns] = <span class="built_in">max</span>(ndp[ns], ndp[s] + v[j][val[i][j]]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> s = <span class="number">0</span>; s &lt; maxS; s++) &#123;</span><br><span class="line">                dp[np][s] = <span class="built_in">max</span>(dp[np][s], ndp[s]);</span><br><span class="line">            &#125;</span><br><span class="line">            ans[np] = <span class="built_in">max</span>(ans[np], dp[np][maxS - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) ans[<span class="number">0</span>] += v[i][<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= T; i++) ans[i] = <span class="built_in">max</span>(ans[i], ans[i - <span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= T; i++) cout &lt;&lt; ans[i] &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="F-连线博弈"><a href="#F-连线博弈" class="headerlink" title="F - 连线博弈"></a>F - 连线博弈</h2><p>若干条线段会分成若干个子局面，子局面的 sg xor 起来就是答案</p>
<p>对 sg 打表，会发现有神秘循环节</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">mt19937_64 <span class="title">rnd</span><span class="params">(chrono::steady_clock::now().time_since_epoch().count())</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> _sg[<span class="number">5000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sg</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123; </span><br><span class="line">    <span class="type">int</span> t = (x - <span class="number">100</span>) / <span class="number">34</span>;</span><br><span class="line">    t = <span class="built_in">max</span>(t, <span class="number">0ll</span>);</span><br><span class="line">    <span class="keyword">return</span> _sg[x - (t * <span class="number">34</span>)];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">read</span>(), m = <span class="built_in">read</span>();</span><br><span class="line"></span><br><span class="line">    map&lt;<span class="type">int</span>, u64&gt; diff;</span><br><span class="line">    <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">        <span class="type">int</span> l = <span class="built_in">read</span>(), r = <span class="built_in">read</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">auto</span> x = <span class="built_in">rnd</span>();</span><br><span class="line">        diff[l] ^= x;</span><br><span class="line">        diff[r] ^= x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    map&lt;<span class="type">int</span>, u64&gt; a;</span><br><span class="line">    diff[n] = <span class="number">0</span>;</span><br><span class="line">    u64 sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> las = <span class="number">-1</span>; <span class="keyword">auto</span> [i, val] : diff) &#123;</span><br><span class="line">        a[sum] += i - las - <span class="number">1</span>;</span><br><span class="line">        sum ^= val;</span><br><span class="line">        las = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> [_, x] : a) &#123;</span><br><span class="line">        ans ^= <span class="built_in">sg</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (ans) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;YES\n&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;NO\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">200</span>; i++) &#123;</span><br><span class="line">        _sg[i] = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    _sg[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    _sg[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    _sg[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">    _sg[<span class="number">3</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> n = <span class="number">2</span>; n &lt;= <span class="number">200</span>; n++) &#123;</span><br><span class="line">        set&lt;<span class="type">int</span>&gt; st;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n - <span class="number">2</span>; i++) &#123;</span><br><span class="line">            <span class="type">int</span> j = n - <span class="number">2</span> - i;</span><br><span class="line">            st.<span class="built_in">insert</span>(_sg[i] ^ _sg[j]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> mex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> s : st) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s != mex) <span class="keyword">break</span>;</span><br><span class="line">            mex++;</span><br><span class="line">        &#125;</span><br><span class="line">        _sg[n] = mex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// for (int i = 0; i &lt; 200; i++) &#123;</span></span><br><span class="line">    <span class="comment">//     cout &lt;&lt; _sg[i] &lt;&lt; &quot; &quot;;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> T = <span class="built_in">read</span>(); T--; <span class="built_in">solve</span>());</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="D-通配符匹配"><a href="#D-通配符匹配" class="headerlink" title="D - 通配符匹配"></a>D - 通配符匹配</h2><p>设 $s$ 被 * 分成了 $k$ 个串</p>
<p>每个 $s_1$ 匹配上以后，第 $2$ 到 $k - 1$ 个贪心匹配最前面的位置</p>
<p>那么后面的所有 $s_k$ 匹配数量就是当前 $s_1$ 匹配的答案</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">getFail</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">f</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>, j = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (j <span class="keyword">and</span> s[i] != s[j]) &#123;</span><br><span class="line">            j = f[j];</span><br><span class="line">        &#125;</span><br><span class="line">        j += (s[i] == s[j]);</span><br><span class="line">        f[i + <span class="number">1</span>] = j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">vector&lt;pii&gt; <span class="title">kmp</span><span class="params">(string s, string t)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> m = t.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">auto</span> fail = <span class="built_in">getFail</span>(s);</span><br><span class="line">    vector&lt;pii&gt; pos;</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="string">&quot;&quot;</span>) pos.<span class="built_in">eb</span>(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (j <span class="keyword">and</span> t[i] != s[j]) j = fail[j];</span><br><span class="line">        <span class="keyword">if</span> (t[i] == s[j]) j++;</span><br><span class="line">        <span class="keyword">if</span> (j == n) &#123;</span><br><span class="line">            pos.<span class="built_in">eb</span>(i - j + <span class="number">1</span>, i + <span class="number">1</span>);</span><br><span class="line">            j = fail[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    string s, t;</span><br><span class="line">    cin &gt;&gt; s &gt;&gt; t;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> m = t.<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (s == <span class="built_in">string</span>(n, <span class="string">&#x27;*&#x27;</span>)) &#123;</span><br><span class="line">        cout &lt;&lt; (m + <span class="number">1</span>) * m / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector&lt;string&gt; ss;</span><br><span class="line">    <span class="keyword">if</span> (s[<span class="number">0</span>] == <span class="string">&#x27;*&#x27;</span>) ss.<span class="built_in">eb</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> l = <span class="number">0</span>, r = <span class="number">0</span>; r &lt;= n; r++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (r == n <span class="keyword">or</span> s[r] == <span class="string">&#x27;*&#x27;</span>) &#123;</span><br><span class="line">            string tmp = s.<span class="built_in">substr</span>(l, r - l);</span><br><span class="line">            <span class="keyword">if</span> (tmp != <span class="string">&quot;&quot;</span>) ss.<span class="built_in">eb</span>(tmp);</span><br><span class="line">            l = r + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (s.<span class="built_in">back</span>() == <span class="string">&#x27;*&#x27;</span>) ss.<span class="built_in">eb</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// debug(ss);</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> k = ss.<span class="built_in">size</span>();</span><br><span class="line">    vector&lt;vector&lt;pii&gt;&gt; <span class="built_in">pos</span>(k);</span><br><span class="line">    <span class="function">vector <span class="title">next</span><span class="params">(k, vector(m + <span class="number">1</span>, pii&#123;inf, inf&#125;))</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="keyword">auto</span> s = ss[i];</span><br><span class="line"></span><br><span class="line">        pos[i] = <span class="built_in">kmp</span>(s, t);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">auto</span> &amp;nex = next[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> [l, r] : pos[i]) &#123;</span><br><span class="line">            nex[l] = &#123;l, r&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = m - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">            nex[j] = <span class="built_in">min</span>(nex[j], nex[j + <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">cnt</span><span class="params">(m + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> [l, r] : pos.<span class="built_in">back</span>()) &#123;</span><br><span class="line">        cnt[l]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (k &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = m - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            cnt[i] += cnt[i + <span class="number">1</span>];    </span><br><span class="line">        &#125;    </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// debug(ss[0]);</span></span><br><span class="line">    <span class="comment">// debug(pos[0]);</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> [l, r] : pos[<span class="number">0</span>]) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; k; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (l &gt; m) <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">tie</span>(l, r) = next[i][r];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// debug(l);</span></span><br><span class="line">        <span class="keyword">if</span> (l &gt; m) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        ans += cnt[l];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="C-造桥与砍树"><a href="#C-造桥与砍树" class="headerlink" title="C - 造桥与砍树"></a>C - 造桥与砍树</h2><blockquote>
<p>TosakaUCW: 09-21 13:44:50<br>唉，理解prim了。感觉我原来是，只会kruskal</p>
<p>TosakaUCW: 09-21 13:44:55<br>普及组算法没学好</p>
<p>TosakaUCW: 09-21 13:45:02<br>[呲牙][流泪]</p>
<p>xxx: 09-21 13:53:38<br>不会prim</p>
<p>xxx: 09-21 13:53:50<br>有没有这题prim省流</p>
<p>TosakaUCW: 09-21 13:54:57<br>边做边维护最优的边</p>
<p>TosakaUCW: 09-21 13:55:22<br>每个x最优的边，就是最靠近，k-x的。</p>
<p>TosakaUCW: 09-21 13:55:34<br>只需要动态维护这个就行了</p>
<p>TosakaUCW: 09-21 13:56:10<br>[图片]</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    <span class="type">int</span> dis, v, u;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">friend</span> <span class="keyword">operator</span> &lt; (node a, node b) &#123;</span><br><span class="line">        <span class="keyword">return</span> a.dis &gt; b.dis;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">read</span>(), k = <span class="built_in">read</span>();</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n)</span></span>;</span><br><span class="line">    multiset&lt;<span class="type">int</span>&gt; s;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;x : a) &#123;</span><br><span class="line">        x = <span class="built_in">read</span>() % k;</span><br><span class="line">        s.<span class="built_in">ep</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    priority_queue&lt;node&gt; q;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> x = *s.<span class="built_in">begin</span>();</span><br><span class="line">    s.<span class="built_in">erase</span>(s.<span class="built_in">begin</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> get = [&amp;](<span class="type">int</span> x) -&gt; <span class="type">int</span> &#123;</span><br><span class="line">        <span class="keyword">auto</span> it = s.<span class="built_in">lower_bound</span>(k - x);</span><br><span class="line">        <span class="keyword">return</span> *(it == s.<span class="built_in">end</span>() ? s.<span class="built_in">begin</span>() : it);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> y = <span class="built_in">get</span>(x);</span><br><span class="line">    q.<span class="built_in">ep</span>((x + y) % k, y, x);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!s.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="type">int</span> y;</span><br><span class="line">        <span class="keyword">auto</span> [w, x, p] = q.<span class="built_in">top</span>(); q.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!s.<span class="built_in">contains</span>(x)) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        s.<span class="built_in">extract</span>(x);</span><br><span class="line">        ans += w;</span><br><span class="line"></span><br><span class="line">        y = <span class="built_in">get</span>(p);</span><br><span class="line">        q.<span class="built_in">ep</span>((p + y) % k, y, p);</span><br><span class="line"></span><br><span class="line">        y = <span class="built_in">get</span>(x);</span><br><span class="line">        q.<span class="built_in">ep</span>((x + y) % k, y, x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="A-整点正方形计数2"><a href="#A-整点正方形计数2" class="headerlink" title="A - 整点正方形计数2"></a>A - 整点正方形计数2</h2><p>需要解决的是一个子问题：给定 $a, b, c$，统计有多少个正整数 $x, y$ 满足 $1 \le x \le a, 1 \le y \le b, 1 \le x + y \le c$。</p>
<p>时间复杂度 $O(nm)$</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">read</span>(), m = <span class="built_in">read</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> calc = [&amp;](<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> c) -&gt; <span class="type">int</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (a &lt; <span class="number">1</span> <span class="keyword">or</span> b &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (c - <span class="number">1</span> &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        a = <span class="built_in">min</span>(c, a);</span><br><span class="line">        <span class="keyword">if</span> (b &gt;= c - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> (c - <span class="number">1</span> + c - a) * a / <span class="number">2</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> k = <span class="built_in">min</span>(c - b, a);</span><br><span class="line">            <span class="type">int</span> res = b * k;</span><br><span class="line">            res += (a - k) * (c - k - <span class="number">1</span> + c - a) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            res += <span class="built_in">max</span>(<span class="number">0LL</span>, <span class="built_in">min</span>(i, j));</span><br><span class="line">            res += <span class="built_in">max</span>(<span class="number">0LL</span>, <span class="built_in">min</span>(i, m - j));</span><br><span class="line">            res += <span class="built_in">max</span>(<span class="number">0LL</span>, <span class="built_in">min</span>(n - i, j));</span><br><span class="line">            res += <span class="built_in">max</span>(<span class="number">0LL</span>, <span class="built_in">min</span>(n - i, m - j));</span><br><span class="line"></span><br><span class="line">            res += <span class="built_in">calc</span>(j, m - j, n - i);</span><br><span class="line">            res += <span class="built_in">calc</span>(j, m - j, i);</span><br><span class="line">            res += <span class="built_in">calc</span>(i, n - i, j);</span><br><span class="line">            res += <span class="built_in">calc</span>(i, n - i, m - j);</span><br><span class="line"></span><br><span class="line">            cout &lt;&lt; res &lt;&lt; <span class="string">&quot; \n&quot;</span>[j == m];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="G-序列与整数对"><a href="#G-序列与整数对" class="headerlink" title="G - 序列与整数对"></a>G - 序列与整数对</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">read</span>();</span><br><span class="line">    <span class="type">int</span> m = <span class="built_in">read</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n)</span>, v</span>;</span><br><span class="line">    <span class="function">vector&lt;pii&gt; <span class="title">q</span><span class="params">(m)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;x : a) &#123;</span><br><span class="line">        x = <span class="built_in">read</span>();</span><br><span class="line">        v.<span class="built_in">eb</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;[x, y] : q) &#123;</span><br><span class="line">        x = <span class="built_in">read</span>(), y = <span class="built_in">read</span>();</span><br><span class="line">        v.<span class="built_in">eb</span>(x), v.<span class="built_in">eb</span>(y);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ranges::<span class="built_in">sort</span>(v);</span><br><span class="line">    v.<span class="built_in">erase</span>(<span class="built_in">unique</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>()), v.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;x : a) &#123;</span><br><span class="line">        x = ranges::<span class="built_in">lower_bound</span>(v, x) - v.<span class="built_in">begin</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;[x, y] : q) &#123;</span><br><span class="line">        x = ranges::<span class="built_in">lower_bound</span>(v, x) - v.<span class="built_in">begin</span>();</span><br><span class="line">        y = ranges::<span class="built_in">lower_bound</span>(v, y) - v.<span class="built_in">begin</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> vv = q;</span><br><span class="line">    <span class="built_in">sort</span>(vv.<span class="built_in">begin</span>(), vv.<span class="built_in">end</span>());</span><br><span class="line">    vv.<span class="built_in">erase</span>(<span class="built_in">unique</span>(vv.<span class="built_in">begin</span>(), vv.<span class="built_in">end</span>()), vv.<span class="built_in">end</span>());</span><br><span class="line">    map&lt;pii, <span class="type">int</span>&gt; ans;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> N = v.<span class="built_in">size</span>();</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">buk</span>(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        buk[a[i]].<span class="built_in">eb</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> [x, y] : vv) &#123;</span><br><span class="line">        <span class="keyword">auto</span>&amp; v1 = buk[x];</span><br><span class="line">        <span class="keyword">auto</span>&amp; v2 = buk[y];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (v1.<span class="built_in">empty</span>() <span class="keyword">or</span> v2.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            ans[&#123;x, y&#125;] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> n1 = v1.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> n2 = v2.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (n1 &lt;= n2) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> i : v1) &#123;</span><br><span class="line">                <span class="type">int</span> j = ranges::<span class="built_in">upper_bound</span>(v2, i) - v2.<span class="built_in">begin</span>();</span><br><span class="line">                res += n2 - j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> j : v2) &#123;</span><br><span class="line">                <span class="type">int</span> i = ranges::<span class="built_in">lower_bound</span>(v1, j) - v1.<span class="built_in">begin</span>();</span><br><span class="line">                res += i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        ans[&#123;x, y&#125;] = res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> t : q) cout &lt;&lt; ans[t] &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="K-置换环"><a href="#K-置换环" class="headerlink" title="K - 置换环"></a>K - 置换环</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">read</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> best_a = a;</span><br><span class="line">    <span class="keyword">auto</span> best_res = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) a[i] = i + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// for (int i = 0; i &lt; n; i++) cout &lt;&lt; a[i] &lt;&lt; &quot; \n&quot;[i == n - 1];</span></span><br><span class="line">        <span class="keyword">auto</span> calc = [&amp;](vector&lt;<span class="type">int</span>&gt; a) -&gt; <span class="type">int</span> &#123;</span><br><span class="line">            <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; n; k++) &#123;</span><br><span class="line">                vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">g</span>(n + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                    <span class="type">int</span> u = a[i];</span><br><span class="line">                    <span class="type">int</span> v = (i + k) % n;</span><br><span class="line">                    g[u].<span class="built_in">emplace_back</span>(v);</span><br><span class="line">                    g[v].<span class="built_in">emplace_back</span>(u);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">                <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">vis</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">                <span class="keyword">auto</span> dfs = [&amp;](<span class="keyword">auto</span> self, <span class="type">int</span> u) -&gt; <span class="type">void</span> &#123;</span><br><span class="line">                    vis[u] = <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> v : g[u]) <span class="keyword">if</span> (!vis[v]) <span class="built_in">self</span>(self, v);</span><br><span class="line">                &#125;;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (!vis[i]) res++, <span class="built_in">dfs</span>(dfs, i);</span><br><span class="line">                &#125;</span><br><span class="line">                ans += res;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> ans;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> res = <span class="built_in">calc</span>(a);</span><br><span class="line">        <span class="comment">// cout &lt;&lt; res &lt;&lt; &#x27;\n&#x27;;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (best_res &lt; res) &#123;</span><br><span class="line">            best_res = res;</span><br><span class="line">            best_a = a;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">while</span> (<span class="built_in">next_permutation</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>()));</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; best_res &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) cout &lt;&lt; best_a[i] &lt;&lt; <span class="string">&quot; \n&quot;</span>[i == n - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">read</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> ans = (<span class="number">1</span> + n) * n / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">    a[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> t = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n; i &gt;= <span class="number">2</span>; i--) &#123;</span><br><span class="line">        a[i] = t;</span><br><span class="line">        t++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        cout &lt;&lt; a[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="E-看比赛回放"><a href="#E-看比赛回放" class="headerlink" title="E - 看比赛回放"></a>E - 看比赛回放</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> x = (n + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> ans = (m - x) * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="article-licensing box"><div class="licensing-title"><p>2025 CCPC 网络赛</p><p><a href="https://tosakaucw.github.io/2025-ccpc-网络赛/">https://tosakaucw.github.io/2025-ccpc-网络赛/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>TosakaUCW</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2025-09-22</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2025-09-28</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/XCPC/">XCPC</a><a class="link-muted mr-2" rel="tag" href="/tags/Onsite/">Onsite</a><a class="link-muted mr-2" rel="tag" href="/tags/%E7%BD%91%E7%BB%9C%E8%B5%9B/">网络赛</a><a class="link-muted mr-2" rel="tag" href="/tags/CCPC-2025/">CCPC 2025</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/codeforces-round-1053-div-1/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Codeforces Round 1053 (Div. 1)</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2025-icpc-%E7%BD%91%E7%BB%9C%E8%B5%9B-%E7%AC%AC%E4%BA%8C%E5%9C%BA/"><span class="level-item">2025 ICPC 网络赛 第二场</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://tosakaucw.github.io/2025-ccpc-%E7%BD%91%E7%BB%9C%E8%B5%9B/';
            this.page.identifier = '2025-ccpc-网络赛/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'tosaka-blog' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#B-魔塔"><span class="level-left"><span class="level-item">B - 魔塔</span></span></a></li><li><a class="level is-mobile" href="#H-教师"><span class="level-left"><span class="level-item">H - 教师</span></span></a></li><li><a class="level is-mobile" href="#F-连线博弈"><span class="level-left"><span class="level-item">F - 连线博弈</span></span></a></li><li><a class="level is-mobile" href="#D-通配符匹配"><span class="level-left"><span class="level-item">D - 通配符匹配</span></span></a></li><li><a class="level is-mobile" href="#C-造桥与砍树"><span class="level-left"><span class="level-item">C - 造桥与砍树</span></span></a></li><li><a class="level is-mobile" href="#A-整点正方形计数2"><span class="level-left"><span class="level-item">A - 整点正方形计数2</span></span></a></li><li><a class="level is-mobile" href="#G-序列与整数对"><span class="level-left"><span class="level-item">G - 序列与整数对</span></span></a></li><li><a class="level is-mobile" href="#K-置换环"><span class="level-left"><span class="level-item">K - 置换环</span></span></a></li><li><a class="level is-mobile" href="#E-看比赛回放"><span class="level-left"><span class="level-item">E - 看比赛回放</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="TosakaUCW" height="28"></a><p class="is-size-7"><span>&copy; 2025 TosakaUCW</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© 2024</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/TosakaUCW"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script data-pjax src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script data-pjax src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/mhchem.min.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><script type="text/javascript" id="MathJax-script" async>MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      },
      chtml: {
        matchFontHeight: false
      }
    };</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js"></script><!--!--><!--!--><!--!--><script data-pjax src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>